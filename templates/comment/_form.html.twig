{% block body %}
    {{ form_start(form, {'action': path('comment.create'), 'attr': {'class': 'row'}}) }}

    <div class="col-12 mb-2">
        {{ form_label(form.content, 'Alors ! PÃ©pite ou navet ?') }}
        {{ form_widget(form.content, {'attr': {'class': 'form-control form-control-sm mb-2'}}) }}
    </div>

    <div class="col-12">
        <label class="pointer-cursor">
            {{ form_widget(form.spoiler) }}
            Attention je spoil !
        </label>
        <label class="pointer-cursor">
            {{ form_widget(form.viewed) }}
            J'ai vu ce film
        </label>
    </div>

    <div id="ratingDiv" class="col-12 rating">
        {{ include('rate/_inputs.html.twig') }}
    </div>

    <div class="col-12 text-center pointer-cursor mt-3">
        <button class="btn btn-sm btn-success px-4" type="submit">Valider</button>
    </div>

    {{ form_end(form) }}

    <script type="text/javascript">
        rateValue = {{ rate }};
        if (rateValue > 0) {
            document.getElementById(`rating-${ rateValue }`).click();
        }

        viewedInput = document.getElementById('comment_viewed');
        ratingDiv = document.getElementById('ratingDiv');
        viewedInput.onclick = () => {
            if (viewedInput.checked  === true) {
                ratingDiv.style.display = "block";
            } else {
                ratingDiv.style.display = "none";
            }
        }
    </script>
{% endblock %}
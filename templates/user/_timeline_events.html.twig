{% for event in timelineEvents %}
    <li{{ isInverted is not defined and loop.index is divisible by(2)
    or isInverted is defined and not isInverted and loop.index is divisible by(2)
    or isInverted is defined and isInverted and loop.index is not divisible by(2) ? ' class="timeline-inverted"' }} >

        <div class="timeline-badge {{ event.author is defined and app.user == event.author ? 'text-primary' }}"><i class="fa fa-circle"></i></div>

        {% if event.author is defined %}
            <div class="timeline-panel" id="timelinePanel-{{ event.id }}">
                <div class="card-body row">
                    <div class="col-12 d-block d-md-none mb-2">
                        <div class="d-flex justify-content-start align-items-center">
                            <a href="{{ path('user.show', {'slug': event.author.slug}) }}" class="btn-avatar">
                                <img class="avatar-small center-content-horizontally" src="{{ event.author.avatar|formatAvatarData }}" alt="{{ event.author }} avatar">
                            </a>
                            <p class="ml-2 custom-font-text font-weight-bold">
                                <a href="{{ path('user.show', {'slug': event.author.slug}) }}">{{ event.author }}</a><br>
                            </p>
                        </div>
                    </div>
                    <div class="col-12 col-md-4 text-center">
                        <a href="{{ path('movie.details', {'tmdbId': event.tmdbId}) }}">
                            <img class="img-fluid" src="https://image.tmdb.org/t/p/w154{{ event.movie.poster_path }}" alt="{{ event.movie.title }} poster">
                        </a>
                    </div>
                    <div class="col-12 col-md-8 pl-0">
                        <div class="d-none d-md-flex justify-content-start align-items-center">
                            <a href="{{ path('user.show', {'slug': event.author.slug}) }}" class="btn-avatar">
                                <img class="avatar-small center-content-horizontally" src="{{ event.author.avatar|formatAvatarData }}" alt="{{ event.author }} avatar">
                            </a>
                            <p class="ml-2 custom-font-text font-weight-bold">
                                <a href="{{ path('user.show', {'slug': event.author.slug}) }}">{{ event.author }}</a><br>
                            </p>
                        </div>
                        {% if event.comment %}
                            <div class="p-2">
                                {% if event.isSpoiler %}
                                    <div class="spoiler-guard bg-secondary pointer-cursor text-center" style="border-radius: 5px">
                                        <p class="text-white py-2 custom-font-text"><span class="h6">Spoiler</span><br>Clique pour voir</p>
                                    </div>
                                    <p style="display: none">{{ event.comment|nl2br }}</p>
                                {% else %}
                                    <p class="custom-font-text mb-2"><span class="text-danger">{{ event.movie.title }} |</span> {{ event.comment|nl2br }}</p>
                                    <p class="card-date">{{ event.updatedAt|date('d/m/Y') }}</p>
                                {% endif %}
                            </div>
                        {% else %}
                            <div class="p-2">J'ai vu ce film !</div>
                        {% endif %}
                    </div>
                </div>
{#                {% if app.user == event.author %}#}
{#                    <div class="card-footer d-flex justify-content-between align-items-center">#}
{#                        <div>#}
{#                            {% include 'opinion/_button.html.twig' with {'movie': event.movie} %}#}
{#                            {% include 'wish/_buttonContainer.html.twig' with {'movie': event.movie} %}#}
{#                        </div>#}
{#                        <p class="card-text">{{ event.createdAt|customDateFormat }}</p>#}
{#                    </div>#}
{#                {% else %}#}
{#                    <div class="card-footer d-flex justify-content-between align-items-center">#}
{#                        {% include 'wish/_buttonContainer.html.twig' with {'movie': event.movie} %}#}
{#                        <p class="card-text">{{ event.createdAt|customDateFormat }}</p>#}
{#                    </div>#}
{#                {% endif %}#}
            </div>
        {% elseif event.status is defined %}
            <div class="timeline-panel" id="timelinePanel-{{ event.id }}">
                <div class="card-body row">
                    <div class="col-12 d-flex align-items-center">
                        <a href="{{ path('user.show', {'slug': event.userSource.slug}) }}" class="btn-avatar">
                            <img class="avatar-small center-content-horizontally" src="{{ event.userSource.avatar|formatAvatarData }}" alt="{{ event.userSource }} avatar">
                        </a>
                        <p class="ml-2 custom-font-text"><span class="font-weight-bold">{{ event.userSource }}</span> a commencé à vous suivre !</p>
                    </div>
                </div>
            </div>
        {% endif %}

    </li>
{% endfor %}